{% extends "base.html" %}



{% block title %} Home page {% endblock %}

{% block content %}
    <div class="container">
        
        <div class="search-box">
        <div class="Retirada" style="display: flex; flex-direction: row;"><h3>Dados da Retirada</h3></div>
        <div class="input-group">
            <label>Local da retirada</label>
            <input list="locais" type="text" placeholder="Onde você irá retirar?" id="LocalRet">
            <datalist id="locais">
                <option value="São Paulo - SP">
                <option value="Rio de Janeiro - RJ">
                <option value="Salvador - BA">
                <option value="Belo Horizonte - MG">
                <option value="Brasília - DF">
            </datalist>
        </div>
        
        <div class="input-group">
            <label>Data da retirada</label>
            <input type="date" min="2025-11-18" max="2027-01-01" id="DateRet">
        </div>
        <div class="input-group">
            <label>Hora da retirada</label>
            <input type="time" id="hourRet">
        </div>
    </div>
    <div id="devolucao" class="hidden" style="display: none;">
        <h3>Dados da devolução</h3>

        <div class="input-group">
            <label>Local da devolução</label>
            <input list="locais" type="text" placeholder="Onde você irá retirar?" id="localDev">
            <datalist id="locais">
                <option value="São Paulo - SP">
                <option value="Rio de Janeiro - RJ">
                <option value="Salvador - BA">
                <option value="Belo Horizonte - MG">
                <option value="Brasília - DF">
            </datalist>
        </div>

        <div class="input-group">
            <label>Data da devolução</label>
            <input type="date" id="dataDev">
        </div>

        <div class="input-group">
            <label>Hora da devolução</label>
            <input type="time" id="hourDev">
        </div>
        {% if current_user.is_authenticated %}
            <a href="{{ url_for('main.cars') }}"><button id="btn" style="display: none;">Ir para lista de carros</button></a>
        {% else %}
            <a href="{{ url_for('auth.login') }}"><button id="btn" style="display: none;">Ir para lista de carros</button></a>
        {% endif %}
    </div>

<script>
    const localRet = document.getElementById('LocalRet');
    const dataRet = document.getElementById('DateRet');
    const horaRet = document.getElementById('hourRet');
    const localDev = document.getElementById('localDev');
    const dataDev = document.getElementById('dataDev');
    const horaDev = document.getElementById('hourDev')
    const btn = document.getElementById('btn')
    const devolucaoDiv = document.getElementById('devolucao');

    function verificarCampos() {
        if (localRet.value.trim() !== "" &&
            dataRet.value !== "" &&
            horaRet.value !== "") {

            devolucaoDiv.style.display = "flex"; // mostra div
        } else {
            devolucaoDiv.style.display = "none"; // esconde se faltar algo
        }
    }
    function verificarCamposDev(){
        if (localDev.value.trim() !== "" && dataDev.value !== "" && horaDev.value !== ""){
                btn.style.display = "block";
            } else{
                btn.style.display = "none";
            }
    }
    
    localRet.addEventListener("input", verificarCampos);
    dataRet.addEventListener("change", verificarCampos);
    horaRet.addEventListener("change", verificarCampos);
    localDev.addEventListener("input", verificarCamposDev);
    dataDev.addEventListener("change", verificarCamposDev);
    horaDev.addEventListener("change", verificarCamposDev);
</script>


{% endblock %}